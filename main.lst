GAS LISTING main.s 			page 1


   1              		.file	"main.c"
   2              		.option pic
   3              		.text
   4              		.section	.rodata
   5              		.align	2
   6              	.LC0:
   7 0000 54657374 		.string	"Test Memory Files/prog.mem"
   7      204D656D 
   7      6F727920 
   7      46696C65 
   7      732F7072 
   8 001b 00       		.align	2
   9              	.LC1:
  10 001c 2D6600   		.string	"-f"
  11 001f 00       		.align	2
  12              	.LC2:
  13 0020 2D6D00   		.string	"-m"
  14 0023 00       		.align	2
  15              	.LC3:
  16 0024 2D737000 		.string	"-sp"
  17              		.align	2
  18              	.LC4:
  19 0028 2D7300   		.string	"-s"
  20 002b 00       		.align	2
  21              	.LC5:
  22 002c 0A496E76 		.string	"\nInvalid Arguments"
  22      616C6964 
  22      20417267 
  22      756D656E 
  22      747300
  23 003f 00       		.align	2
  24              	.LC6:
  25 0040 7200     		.string	"r"
  26 0042 0000     		.align	2
  27              	.LC7:
  28 0044 54686520 		.string	"The '%s' file provided can't be opened. Attempting to open defult file '%s'. \n"
  28      27257327 
  28      2066696C 
  28      65207072 
  28      6F766964 
  29 0093 00       		.align	2
  30              	.LC8:
  31 0094 4572726F 		.string	"Error opening file"
  31      72206F70 
  31      656E696E 
  31      67206669 
  31      6C6500
  32 00a7 00       		.align	2
  33              	.LC9:
  34 00a8 41646472 		.string	"Address 0x%08X is out of memory bounds\n"
  34      65737320 
  34      30782530 
  34      38582069 
  34      73206F75 
  35              		.align	2
  36              	.LC10:
  37 00d0 25783A20 		.string	"%x: %x"
GAS LISTING main.s 			page 2


  37      257800
  38              		.text
  39              		.align	2
  40              		.globl	main
  42              	main:
  43 0000 130101EF 		addi	sp,sp,-272
  44 0004 23261110 		sw	ra,268(sp)
  45 0008 23248110 		sw	s0,264(sp)
  46 000c 23229110 		sw	s1,260(sp)
  47 0010 23202111 		sw	s2,256(sp)
  48 0014 232E310F 		sw	s3,252(sp)
  49 0018 232C410F 		sw	s4,248(sp)
  50 001c 232A510F 		sw	s5,244(sp)
  51 0020 2328610F 		sw	s6,240(sp)
  52 0024 2326710F 		sw	s7,236(sp)
  53 0028 2324810F 		sw	s8,232(sp)
  54 002c 2322910F 		sw	s9,228(sp)
  55 0030 13040111 		addi	s0,sp,272
  56 0034 232EA4EE 		sw	a0,-260(s0)
  57 0038 232CB4EE 		sw	a1,-264(s0)
  58 003c 232004FC 		sw	zero,-64(s0)
  59 0040 232604F0 		sw	zero,-244(s0)
  60 0044 232804F0 		sw	zero,-240(s0)
  61 0048 232A04F0 		sw	zero,-236(s0)
  62 004c 232E04FA 		sw	zero,-68(s0)
  63 0050 B7070100 		li	a5,65536
  64 0054 232CF4FA 		sw	a5,-72(s0)
  65 0058 232A04FA 		sw	zero,-76(s0)
  66 005c 97070000 		lla	a5,.LC0
  66      93870700 
  67 0064 2328F4FA 		sw	a5,-80(s0)
  68 0068 832704FB 		lw	a5,-80(s0)
  69 006c 2324F4FC 		sw	a5,-56(s0)
  70 0070 8327C4EF 		lw	a5,-260(s0)
  71 0074 9387F7FF 		addi	a5,a5,-1
  72 0078 232EF4EE 		sw	a5,-260(s0)
  73 007c 832784EF 		lw	a5,-264(s0)
  74 0080 93874700 		addi	a5,a5,4
  75 0084 232CF4EE 		sw	a5,-264(s0)
  76 0088 6F000014 		j	.L2
  77              	.L8:
  78 008c 832784EF 		lw	a5,-264(s0)
  79 0090 83A70700 		lw	a5,0(a5)
  80 0094 97050000 		lla	a1,.LC1
  80      93850500 
  81 009c 13850700 		mv	a0,a5
  82 00a0 97000000 		call	strcmp@plt
  82      E7800000 
  83 00a8 93070500 		mv	a5,a0
  84 00ac 639A0700 		bne	a5,zero,.L3
  85 00b0 832784EF 		lw	a5,-264(s0)
  86 00b4 83A74700 		lw	a5,4(a5)
  87 00b8 2324F4FC 		sw	a5,-56(s0)
  88 00bc 6F00400F 		j	.L4
  89              	.L3:
  90 00c0 832784EF 		lw	a5,-264(s0)
  91 00c4 83A70700 		lw	a5,0(a5)
GAS LISTING main.s 			page 3


  92 00c8 97050000 		lla	a1,.LC2
  92      93850500 
  93 00d0 13850700 		mv	a0,a5
  94 00d4 97000000 		call	strcmp@plt
  94      E7800000 
  95 00dc 93070500 		mv	a5,a0
  96 00e0 63920702 		bne	a5,zero,.L5
  97 00e4 832784EF 		lw	a5,-264(s0)
  98 00e8 93874700 		addi	a5,a5,4
  99 00ec 83A70700 		lw	a5,0(a5)
 100 00f0 13850700 		mv	a0,a5
 101 00f4 97000000 		call	atoi@plt
 101      E7800000 
 102 00fc 232EA4FA 		sw	a0,-68(s0)
 103 0100 6F00000B 		j	.L4
 104              	.L5:
 105 0104 832784EF 		lw	a5,-264(s0)
 106 0108 83A70700 		lw	a5,0(a5)
 107 010c 97050000 		lla	a1,.LC3
 107      93850500 
 108 0114 13850700 		mv	a0,a5
 109 0118 97000000 		call	strcmp@plt
 109      E7800000 
 110 0120 93070500 		mv	a5,a0
 111 0124 63840702 		beq	a5,zero,.L6
 112 0128 832784EF 		lw	a5,-264(s0)
 113 012c 93874700 		addi	a5,a5,4
 114 0130 83A70700 		lw	a5,0(a5)
 115 0134 13850700 		mv	a0,a5
 116 0138 97000000 		call	atoi@plt
 116      E7800000 
 117 0140 93070500 		mv	a5,a0
 118 0144 232CF4FA 		sw	a5,-72(s0)
 119 0148 6F008006 		j	.L4
 120              	.L6:
 121 014c 832784EF 		lw	a5,-264(s0)
 122 0150 83A70700 		lw	a5,0(a5)
 123 0154 97050000 		lla	a1,.LC4
 123      93850500 
 124 015c 13850700 		mv	a0,a5
 125 0160 97000000 		call	strcmp@plt
 125      E7800000 
 126 0168 93070500 		mv	a5,a0
 127 016c 63840702 		beq	a5,zero,.L7
 128 0170 832784EF 		lw	a5,-264(s0)
 129 0174 93874700 		addi	a5,a5,4
 130 0178 83A70700 		lw	a5,0(a5)
 131 017c 13850700 		mv	a0,a5
 132 0180 97000000 		call	atoi@plt
 132      E7800000 
 133 0188 93070500 		mv	a5,a0
 134 018c 232AF4FA 		sw	a5,-76(s0)
 135 0190 6F000002 		j	.L4
 136              	.L7:
 137 0194 17050000 		lla	a0,.LC5
 137      13050500 
 138 019c 97000000 		call	puts@plt
GAS LISTING main.s 			page 4


 138      E7800000 
 139 01a4 1305F0FF 		li	a0,-1
 140 01a8 97000000 		call	exit@plt
 140      E7800000 
 141              	.L4:
 142 01b0 8327C4EF 		lw	a5,-260(s0)
 143 01b4 9387E7FF 		addi	a5,a5,-2
 144 01b8 232EF4EE 		sw	a5,-260(s0)
 145 01bc 832784EF 		lw	a5,-264(s0)
 146 01c0 93878700 		addi	a5,a5,8
 147 01c4 232CF4EE 		sw	a5,-264(s0)
 148              	.L2:
 149 01c8 8327C4EF 		lw	a5,-260(s0)
 150 01cc E340F0EC 		bgt	a5,zero,.L8
 151 01d0 97050000 		lla	a1,.LC6
 151      93850500 
 152 01d8 032584FC 		lw	a0,-56(s0)
 153 01dc 97000000 		call	fopen@plt
 153      E7800000 
 154 01e4 2326A4FC 		sw	a0,-52(s0)
 155 01e8 B7170000 		li	a5,4096
 156 01ec 93870780 		addi	a5,a5,-2048
 157 01f0 2326F4FA 		sw	a5,-84(s0)
 158 01f4 93070100 		mv	a5,sp
 159 01f8 93840700 		mv	s1,a5
 160 01fc 8327C4FA 		lw	a5,-84(s0)
 161 0200 9387F7FF 		addi	a5,a5,-1
 162 0204 2324F4FA 		sw	a5,-88(s0)
 163 0208 8327C4FA 		lw	a5,-84(s0)
 164 020c 138C0700 		mv	s8,a5
 165 0210 930C0000 		li	s9,0
 166 0214 9357BC01 		srli	a5,s8,27
 167 0218 939A5C00 		slli	s5,s9,5
 168 021c B3EA5701 		or	s5,a5,s5
 169 0220 131A5C00 		slli	s4,s8,5
 170 0224 8327C4FA 		lw	a5,-84(s0)
 171 0228 138B0700 		mv	s6,a5
 172 022c 930B0000 		li	s7,0
 173 0230 9357BB01 		srli	a5,s6,27
 174 0234 93995B00 		slli	s3,s7,5
 175 0238 B3E93701 		or	s3,a5,s3
 176 023c 13195B00 		slli	s2,s6,5
 177 0240 8327C4FA 		lw	a5,-84(s0)
 178 0244 93972700 		slli	a5,a5,2
 179 0248 9387F700 		addi	a5,a5,15
 180 024c 93D74700 		srli	a5,a5,4
 181 0250 93974700 		slli	a5,a5,4
 182 0254 3301F140 		sub	sp,sp,a5
 183 0258 93070100 		mv	a5,sp
 184 025c 93873700 		addi	a5,a5,3
 185 0260 93D72700 		srli	a5,a5,2
 186 0264 93972700 		slli	a5,a5,2
 187 0268 2322F4FA 		sw	a5,-92(s0)
 188 026c 232204FC 		sw	zero,-60(s0)
 189 0270 6F004002 		j	.L9
 190              	.L10:
 191 0274 032744FA 		lw	a4,-92(s0)
GAS LISTING main.s 			page 5


 192 0278 832744FC 		lw	a5,-60(s0)
 193 027c 93972700 		slli	a5,a5,2
 194 0280 B307F700 		add	a5,a4,a5
 195 0284 23A00700 		sw	zero,0(a5)
 196 0288 832744FC 		lw	a5,-60(s0)
 197 028c 93871700 		addi	a5,a5,1
 198 0290 2322F4FC 		sw	a5,-60(s0)
 199              	.L9:
 200 0294 032744FC 		lw	a4,-60(s0)
 201 0298 8327C4FA 		lw	a5,-84(s0)
 202 029c E34CF7FC 		blt	a4,a5,.L10
 203 02a0 8327C4FC 		lw	a5,-52(s0)
 204 02a4 63960704 		bne	a5,zero,.L11
 205 02a8 97070000 		la	a5,stderr
 205      83B70700 
 206 02b0 83A70700 		lw	a5,0(a5)
 207 02b4 832604FB 		lw	a3,-80(s0)
 208 02b8 032684FC 		lw	a2,-56(s0)
 209 02bc 97050000 		lla	a1,.LC7
 209      93850500 
 210 02c4 13850700 		mv	a0,a5
 211 02c8 97000000 		call	fprintf@plt
 211      E7800000 
 212 02d0 832704FB 		lw	a5,-80(s0)
 213 02d4 2324F4FC 		sw	a5,-56(s0)
 214 02d8 97050000 		lla	a1,.LC6
 214      93850500 
 215 02e0 032584FC 		lw	a0,-56(s0)
 216 02e4 97000000 		call	fopen@plt
 216      E7800000 
 217 02ec 2326A4FC 		sw	a0,-52(s0)
 218              	.L11:
 219 02f0 8327C4FC 		lw	a5,-52(s0)
 220 02f4 639E0700 		bne	a5,zero,.L12
 221 02f8 17050000 		lla	a0,.LC8
 221      13050500 
 222 0300 97000000 		call	perror@plt
 222      E7800000 
 223 0308 9307F0FF 		li	a5,-1
 224 030c 6F00400A 		j	.L13
 225              	.L12:
 226 0310 B7070100 		li	a5,65536
 227 0314 2320F4FA 		sw	a5,-96(s0)
 228 0318 6F004005 		j	.L14
 229              	.L16:
 230 031c 032704F9 		lw	a4,-112(s0)
 231 0320 832704FA 		lw	a5,-96(s0)
 232 0324 6366F702 		bltu	a4,a5,.L15
 233 0328 97070000 		la	a5,stderr
 233      83B70700 
 234 0330 83A70700 		lw	a5,0(a5)
 235 0334 032704F9 		lw	a4,-112(s0)
 236 0338 13060700 		mv	a2,a4
 237 033c 97050000 		lla	a1,.LC9
 237      93850500 
 238 0344 13850700 		mv	a0,a5
 239 0348 97000000 		call	fprintf@plt
GAS LISTING main.s 			page 6


 239      E7800000 
 240              	.L15:
 241 0350 832704F9 		lw	a5,-112(s0)
 242 0354 93D72700 		srli	a5,a5,2
 243 0358 0327C4F8 		lw	a4,-116(s0)
 244 035c 832644FA 		lw	a3,-92(s0)
 245 0360 93972700 		slli	a5,a5,2
 246 0364 B387F600 		add	a5,a3,a5
 247 0368 23A0E700 		sw	a4,0(a5)
 248              	.L14:
 249 036c 1307C4F8 		addi	a4,s0,-116
 250 0370 930704F9 		addi	a5,s0,-112
 251 0374 93060700 		mv	a3,a4
 252 0378 13860700 		mv	a2,a5
 253 037c 97050000 		lla	a1,.LC10
 253      93850500 
 254 0384 0325C4FC 		lw	a0,-52(s0)
 255 0388 97000000 		call	__isoc99_fscanf@plt
 255      E7800000 
 256 0390 13070500 		mv	a4,a0
 257 0394 93072000 		li	a5,2
 258 0398 E302F7F8 		beq	a4,a5,.L16
 259 039c 9307C4F0 		addi	a5,s0,-244
 260 03a0 13850700 		mv	a0,a5
 261 03a4 97000000 		call	printAllReg@plt
 261      E7800000 
 262 03ac 93070000 		li	a5,0
 263              	.L13:
 264 03b0 13810400 		mv	sp,s1
 265 03b4 13850700 		mv	a0,a5
 266 03b8 130104EF 		addi	sp,s0,-272
 267 03bc 8320C110 		lw	ra,268(sp)
 268 03c0 03248110 		lw	s0,264(sp)
 269 03c4 83244110 		lw	s1,260(sp)
 270 03c8 03290110 		lw	s2,256(sp)
 271 03cc 8329C10F 		lw	s3,252(sp)
 272 03d0 032A810F 		lw	s4,248(sp)
 273 03d4 832A410F 		lw	s5,244(sp)
 274 03d8 032B010F 		lw	s6,240(sp)
 275 03dc 832BC10E 		lw	s7,236(sp)
 276 03e0 032C810E 		lw	s8,232(sp)
 277 03e4 832C410E 		lw	s9,228(sp)
 278 03e8 13010111 		addi	sp,sp,272
 279 03ec 67800000 		jr	ra
 281              		.align	2
 282              		.globl	printAllMem
 284              	printAllMem:
 285 03f0 130101FE 		addi	sp,sp,-32
 286 03f4 232E8100 		sw	s0,28(sp)
 287 03f8 13040102 		addi	s0,sp,32
 288 03fc 2326A4FE 		sw	a0,-20(s0)
 289 0400 2324B4FE 		sw	a1,-24(s0)
 290 0404 13000000 		nop
 291 0408 0324C101 		lw	s0,28(sp)
 292 040c 13010102 		addi	sp,sp,32
 293 0410 67800000 		jr	ra
 295              		.section	.rodata
GAS LISTING main.s 			page 7


 296 00d7 00       		.align	2
 297              	.LC11:
 298 00d8 52656769 		.string	"Register: x%02d   Contents: "
 298      73746572 
 298      3A207825 
 298      30326420 
 298      2020436F 
 299 00f5 000000   		.align	2
 300              	.LC12:
 301 00f8 4E554C4C 		.string	"NULL"
 301      00
 302 00fd 000000   		.align	2
 303              	.LC13:
 304 0100 25303858 		.string	"%08X\n"
 304      0A00
 305              		.text
 306              		.align	2
 307              		.globl	printAllReg
 309              	printAllReg:
 310 0414 130101FD 		addi	sp,sp,-48
 311 0418 23261102 		sw	ra,44(sp)
 312 041c 23248102 		sw	s0,40(sp)
 313 0420 13040103 		addi	s0,sp,48
 314 0424 232EA4FC 		sw	a0,-36(s0)
 315 0428 232604FE 		sw	zero,-20(s0)
 316 042c 6F00C007 		j	.L21
 317              	.L24:
 318 0430 8325C4FE 		lw	a1,-20(s0)
 319 0434 17050000 		lla	a0,.LC11
 319      13050500 
 320 043c 97000000 		call	printf@plt
 320      E7800000 
 321 0444 8327C4FE 		lw	a5,-20(s0)
 322 0448 93972700 		slli	a5,a5,2
 323 044c 0327C4FD 		lw	a4,-36(s0)
 324 0450 B307F700 		add	a5,a4,a5
 325 0454 03A70700 		lw	a4,0(a5)
 326 0458 9307F0FF 		li	a5,-1
 327 045c 631CF700 		bne	a4,a5,.L22
 328 0460 17050000 		lla	a0,.LC12
 328      13050500 
 329 0468 97000000 		call	puts@plt
 329      E7800000 
 330 0470 6F00C002 		j	.L23
 331              	.L22:
 332 0474 8327C4FE 		lw	a5,-20(s0)
 333 0478 93972700 		slli	a5,a5,2
 334 047c 0327C4FD 		lw	a4,-36(s0)
 335 0480 B307F700 		add	a5,a4,a5
 336 0484 83A70700 		lw	a5,0(a5)
 337 0488 93850700 		mv	a1,a5
 338 048c 17050000 		lla	a0,.LC13
 338      13050500 
 339 0494 97000000 		call	printf@plt
 339      E7800000 
 340              	.L23:
 341 049c 8327C4FE 		lw	a5,-20(s0)
GAS LISTING main.s 			page 8


 342 04a0 93871700 		addi	a5,a5,1
 343 04a4 2326F4FE 		sw	a5,-20(s0)
 344              	.L21:
 345 04a8 0327C4FE 		lw	a4,-20(s0)
 346 04ac 9307F001 		li	a5,31
 347 04b0 E3D0E7F8 		ble	a4,a5,.L24
 348 04b4 13000000 		nop
 349 04b8 13000000 		nop
 350 04bc 8320C102 		lw	ra,44(sp)
 351 04c0 03248102 		lw	s0,40(sp)
 352 04c4 13010103 		addi	sp,sp,48
 353 04c8 67800000 		jr	ra
 355              		.align	2
 356              		.globl	readByte
 358              	readByte:
 359 04cc 130101FD 		addi	sp,sp,-48
 360 04d0 23268102 		sw	s0,44(sp)
 361 04d4 13040103 		addi	s0,sp,48
 362 04d8 232EA4FC 		sw	a0,-36(s0)
 363 04dc 232CB4FC 		sw	a1,-40(s0)
 364 04e0 232AC4FC 		sw	a2,-44(s0)
 365 04e4 832744FD 		lw	a5,-44(s0)
 366 04e8 13D7F741 		srai	a4,a5,31
 367 04ec 13773700 		andi	a4,a4,3
 368 04f0 B307F700 		add	a5,a4,a5
 369 04f4 93D72740 		srai	a5,a5,2
 370 04f8 2326F4FE 		sw	a5,-20(s0)
 371 04fc 032744FD 		lw	a4,-44(s0)
 372 0500 9357F741 		srai	a5,a4,31
 373 0504 93D7E701 		srli	a5,a5,30
 374 0508 3307F700 		add	a4,a4,a5
 375 050c 13773700 		andi	a4,a4,3
 376 0510 B307F740 		sub	a5,a4,a5
 377 0514 2324F4FE 		sw	a5,-24(s0)
 378 0518 8327C4FE 		lw	a5,-20(s0)
 379 051c 93972700 		slli	a5,a5,2
 380 0520 0327C4FD 		lw	a4,-36(s0)
 381 0524 B307F700 		add	a5,a4,a5
 382 0528 83A70700 		lw	a5,0(a5)
 383 052c 2322F4FE 		sw	a5,-28(s0)
 384 0530 832784FE 		lw	a5,-24(s0)
 385 0534 93973700 		slli	a5,a5,3
 386 0538 032744FE 		lw	a4,-28(s0)
 387 053c B357F700 		srl	a5,a4,a5
 388 0540 2322F4FE 		sw	a5,-28(s0)
 389 0544 832744FE 		lw	a5,-28(s0)
 390 0548 93F7F70F 		andi	a5,a5,255
 391 054c 2320F4FE 		sw	a5,-32(s0)
 392 0550 832704FE 		lw	a5,-32(s0)
 393 0554 13850700 		mv	a0,a5
 394 0558 0324C102 		lw	s0,44(sp)
 395 055c 13010103 		addi	sp,sp,48
 396 0560 67800000 		jr	ra
 398              		.section	.rodata
 399 0106 0000     		.align	2
 400              	.LC14:
 401 0108 4D697361 		.string	"Misaligned reference at 0x%08d\n"
GAS LISTING main.s 			page 9


 401      6C69676E 
 401      65642072 
 401      65666572 
 401      656E6365 
 402              		.text
 403              		.align	2
 404              		.globl	readHalfWord
 406              	readHalfWord:
 407 0564 130101FD 		addi	sp,sp,-48
 408 0568 23261102 		sw	ra,44(sp)
 409 056c 23248102 		sw	s0,40(sp)
 410 0570 13040103 		addi	s0,sp,48
 411 0574 232EA4FC 		sw	a0,-36(s0)
 412 0578 232CB4FC 		sw	a1,-40(s0)
 413 057c 232AC4FC 		sw	a2,-44(s0)
 414 0580 832744FD 		lw	a5,-44(s0)
 415 0584 93F71700 		andi	a5,a5,1
 416 0588 638A0702 		beq	a5,zero,.L28
 417 058c 97070000 		la	a5,stderr
 417      83B70700 
 418 0594 83A70700 		lw	a5,0(a5)
 419 0598 032644FD 		lw	a2,-44(s0)
 420 059c 97050000 		lla	a1,.LC14
 420      93850500 
 421 05a4 13850700 		mv	a0,a5
 422 05a8 97000000 		call	fprintf@plt
 422      E7800000 
 423 05b0 13051000 		li	a0,1
 424 05b4 97000000 		call	exit@plt
 424      E7800000 
 425              	.L28:
 426 05bc 832744FD 		lw	a5,-44(s0)
 427 05c0 13D7F741 		srai	a4,a5,31
 428 05c4 13773700 		andi	a4,a4,3
 429 05c8 B307F700 		add	a5,a4,a5
 430 05cc 93D72740 		srai	a5,a5,2
 431 05d0 2324F4FE 		sw	a5,-24(s0)
 432 05d4 032744FD 		lw	a4,-44(s0)
 433 05d8 9357F741 		srai	a5,a4,31
 434 05dc 93D7E701 		srli	a5,a5,30
 435 05e0 3307F700 		add	a4,a4,a5
 436 05e4 13773700 		andi	a4,a4,3
 437 05e8 B307F740 		sub	a5,a4,a5
 438 05ec 13870700 		mv	a4,a5
 439 05f0 93072000 		li	a5,2
 440 05f4 6318F700 		bne	a4,a5,.L29
 441 05f8 93072000 		li	a5,2
 442 05fc 2326F4FE 		sw	a5,-20(s0)
 443 0600 6F008000 		j	.L30
 444              	.L29:
 445 0604 232604FE 		sw	zero,-20(s0)
 446              	.L30:
 447 0608 832784FE 		lw	a5,-24(s0)
 448 060c 93972700 		slli	a5,a5,2
 449 0610 0327C4FD 		lw	a4,-36(s0)
 450 0614 B307F700 		add	a5,a4,a5
 451 0618 83A70700 		lw	a5,0(a5)
GAS LISTING main.s 			page 10


 452 061c 2322F4FE 		sw	a5,-28(s0)
 453 0620 8327C4FE 		lw	a5,-20(s0)
 454 0624 93973700 		slli	a5,a5,3
 455 0628 032744FE 		lw	a4,-28(s0)
 456 062c B357F700 		srl	a5,a4,a5
 457 0630 2322F4FE 		sw	a5,-28(s0)
 458 0634 032744FE 		lw	a4,-28(s0)
 459 0638 B7070100 		li	a5,65536
 460 063c 9387F7FF 		addi	a5,a5,-1
 461 0640 B377F700 		and	a5,a4,a5
 462 0644 2320F4FE 		sw	a5,-32(s0)
 463 0648 832704FE 		lw	a5,-32(s0)
 464 064c 13850700 		mv	a0,a5
 465 0650 8320C102 		lw	ra,44(sp)
 466 0654 03248102 		lw	s0,40(sp)
 467 0658 13010103 		addi	sp,sp,48
 468 065c 67800000 		jr	ra
 470              		.align	2
 471              		.globl	readWord
 473              	readWord:
 474 0660 130101FD 		addi	sp,sp,-48
 475 0664 23268102 		sw	s0,44(sp)
 476 0668 13040103 		addi	s0,sp,48
 477 066c 232EA4FC 		sw	a0,-36(s0)
 478 0670 232CB4FC 		sw	a1,-40(s0)
 479 0674 232AC4FC 		sw	a2,-44(s0)
 480 0678 832744FD 		lw	a5,-44(s0)
 481 067c 13D7F741 		srai	a4,a5,31
 482 0680 13773700 		andi	a4,a4,3
 483 0684 B307F700 		add	a5,a4,a5
 484 0688 93D72740 		srai	a5,a5,2
 485 068c 2326F4FE 		sw	a5,-20(s0)
 486 0690 8327C4FE 		lw	a5,-20(s0)
 487 0694 93972700 		slli	a5,a5,2
 488 0698 0327C4FD 		lw	a4,-36(s0)
 489 069c B307F700 		add	a5,a4,a5
 490 06a0 83A70700 		lw	a5,0(a5)
 491 06a4 2324F4FE 		sw	a5,-24(s0)
 492 06a8 832784FE 		lw	a5,-24(s0)
 493 06ac 13850700 		mv	a0,a5
 494 06b0 0324C102 		lw	s0,44(sp)
 495 06b4 13010103 		addi	sp,sp,48
 496 06b8 67800000 		jr	ra
 498              		.align	2
 499              		.globl	writeByte
 501              	writeByte:
 502 06bc 130101FD 		addi	sp,sp,-48
 503 06c0 23268102 		sw	s0,44(sp)
 504 06c4 13040103 		addi	s0,sp,48
 505 06c8 232EA4FC 		sw	a0,-36(s0)
 506 06cc 232CB4FC 		sw	a1,-40(s0)
 507 06d0 232AC4FC 		sw	a2,-44(s0)
 508 06d4 2328D4FC 		sw	a3,-48(s0)
 509 06d8 832744FD 		lw	a5,-44(s0)
 510 06dc 13D7F741 		srai	a4,a5,31
 511 06e0 13773700 		andi	a4,a4,3
 512 06e4 B307F700 		add	a5,a4,a5
GAS LISTING main.s 			page 11


 513 06e8 93D72740 		srai	a5,a5,2
 514 06ec 2326F4FE 		sw	a5,-20(s0)
 515 06f0 032744FD 		lw	a4,-44(s0)
 516 06f4 9357F741 		srai	a5,a4,31
 517 06f8 93D7E701 		srli	a5,a5,30
 518 06fc 3307F700 		add	a4,a4,a5
 519 0700 13773700 		andi	a4,a4,3
 520 0704 B307F740 		sub	a5,a4,a5
 521 0708 2324F4FE 		sw	a5,-24(s0)
 522 070c 8327C4FE 		lw	a5,-20(s0)
 523 0710 93972700 		slli	a5,a5,2
 524 0714 0327C4FD 		lw	a4,-36(s0)
 525 0718 B307F700 		add	a5,a4,a5
 526 071c 03A70700 		lw	a4,0(a5)
 527 0720 832784FE 		lw	a5,-24(s0)
 528 0724 93973700 		slli	a5,a5,3
 529 0728 9306F00F 		li	a3,255
 530 072c B397F600 		sll	a5,a3,a5
 531 0730 93C7F7FF 		not	a5,a5
 532 0734 13860700 		mv	a2,a5
 533 0738 8327C4FE 		lw	a5,-20(s0)
 534 073c 93972700 		slli	a5,a5,2
 535 0740 8326C4FD 		lw	a3,-36(s0)
 536 0744 B387F600 		add	a5,a3,a5
 537 0748 3377C700 		and	a4,a4,a2
 538 074c 23A0E700 		sw	a4,0(a5)
 539 0750 8327C4FE 		lw	a5,-20(s0)
 540 0754 93972700 		slli	a5,a5,2
 541 0758 0327C4FD 		lw	a4,-36(s0)
 542 075c B307F700 		add	a5,a4,a5
 543 0760 83A60700 		lw	a3,0(a5)
 544 0764 832784FE 		lw	a5,-24(s0)
 545 0768 93973700 		slli	a5,a5,3
 546 076c 032704FD 		lw	a4,-48(s0)
 547 0770 3317F700 		sll	a4,a4,a5
 548 0774 8327C4FE 		lw	a5,-20(s0)
 549 0778 93972700 		slli	a5,a5,2
 550 077c 0326C4FD 		lw	a2,-36(s0)
 551 0780 B307F600 		add	a5,a2,a5
 552 0784 33E7E600 		or	a4,a3,a4
 553 0788 23A0E700 		sw	a4,0(a5)
 554 078c 93070000 		li	a5,0
 555 0790 13850700 		mv	a0,a5
 556 0794 0324C102 		lw	s0,44(sp)
 557 0798 13010103 		addi	sp,sp,48
 558 079c 67800000 		jr	ra
 560              		.align	2
 561              		.globl	writeHalfWord
 563              	writeHalfWord:
 564 07a0 130101FD 		addi	sp,sp,-48
 565 07a4 23261102 		sw	ra,44(sp)
 566 07a8 23248102 		sw	s0,40(sp)
 567 07ac 13040103 		addi	s0,sp,48
 568 07b0 232EA4FC 		sw	a0,-36(s0)
 569 07b4 232CB4FC 		sw	a1,-40(s0)
 570 07b8 232AC4FC 		sw	a2,-44(s0)
 571 07bc 2328D4FC 		sw	a3,-48(s0)
GAS LISTING main.s 			page 12


 572 07c0 832744FD 		lw	a5,-44(s0)
 573 07c4 93F71700 		andi	a5,a5,1
 574 07c8 638A0702 		beq	a5,zero,.L37
 575 07cc 97070000 		la	a5,stderr
 575      83B70700 
 576 07d4 83A70700 		lw	a5,0(a5)
 577 07d8 032644FD 		lw	a2,-44(s0)
 578 07dc 97050000 		lla	a1,.LC14
 578      93850500 
 579 07e4 13850700 		mv	a0,a5
 580 07e8 97000000 		call	fprintf@plt
 580      E7800000 
 581 07f0 13051000 		li	a0,1
 582 07f4 97000000 		call	exit@plt
 582      E7800000 
 583              	.L37:
 584 07fc 832744FD 		lw	a5,-44(s0)
 585 0800 13D7F741 		srai	a4,a5,31
 586 0804 13773700 		andi	a4,a4,3
 587 0808 B307F700 		add	a5,a4,a5
 588 080c 93D72740 		srai	a5,a5,2
 589 0810 2326F4FE 		sw	a5,-20(s0)
 590 0814 032744FD 		lw	a4,-44(s0)
 591 0818 9357F741 		srai	a5,a4,31
 592 081c 93D7E701 		srli	a5,a5,30
 593 0820 3307F700 		add	a4,a4,a5
 594 0824 13773700 		andi	a4,a4,3
 595 0828 B307F740 		sub	a5,a4,a5
 596 082c 13870700 		mv	a4,a5
 597 0830 93072000 		li	a5,2
 598 0834 6314F706 		bne	a4,a5,.L38
 599 0838 93072000 		li	a5,2
 600 083c 2324F4FE 		sw	a5,-24(s0)
 601 0840 8327C4FE 		lw	a5,-20(s0)
 602 0844 93972700 		slli	a5,a5,2
 603 0848 0327C4FD 		lw	a4,-36(s0)
 604 084c B307F700 		add	a5,a4,a5
 605 0850 83A70700 		lw	a5,0(a5)
 606 0854 2320F4FE 		sw	a5,-32(s0)
 607 0858 032704FE 		lw	a4,-32(s0)
 608 085c B7070100 		li	a5,65536
 609 0860 9387F7FF 		addi	a5,a5,-1
 610 0864 B377F700 		and	a5,a4,a5
 611 0868 2320F4FE 		sw	a5,-32(s0)
 612 086c 832704FD 		lw	a5,-48(s0)
 613 0870 93970701 		slli	a5,a5,16
 614 0874 2328F4FC 		sw	a5,-48(s0)
 615 0878 8327C4FE 		lw	a5,-20(s0)
 616 087c 93972700 		slli	a5,a5,2
 617 0880 0327C4FD 		lw	a4,-36(s0)
 618 0884 B307F700 		add	a5,a4,a5
 619 0888 832604FD 		lw	a3,-48(s0)
 620 088c 032704FE 		lw	a4,-32(s0)
 621 0890 33E7E600 		or	a4,a3,a4
 622 0894 23A0E700 		sw	a4,0(a5)
 623 0898 6F000005 		j	.L39
 624              	.L38:
GAS LISTING main.s 			page 13


 625 089c 232404FE 		sw	zero,-24(s0)
 626 08a0 8327C4FE 		lw	a5,-20(s0)
 627 08a4 93972700 		slli	a5,a5,2
 628 08a8 0327C4FD 		lw	a4,-36(s0)
 629 08ac B307F700 		add	a5,a4,a5
 630 08b0 83A70700 		lw	a5,0(a5)
 631 08b4 2322F4FE 		sw	a5,-28(s0)
 632 08b8 032744FE 		lw	a4,-28(s0)
 633 08bc B707FFFF 		li	a5,-65536
 634 08c0 B377F700 		and	a5,a4,a5
 635 08c4 2322F4FE 		sw	a5,-28(s0)
 636 08c8 8327C4FE 		lw	a5,-20(s0)
 637 08cc 93972700 		slli	a5,a5,2
 638 08d0 0327C4FD 		lw	a4,-36(s0)
 639 08d4 B307F700 		add	a5,a4,a5
 640 08d8 832604FD 		lw	a3,-48(s0)
 641 08dc 032744FE 		lw	a4,-28(s0)
 642 08e0 33E7E600 		or	a4,a3,a4
 643 08e4 23A0E700 		sw	a4,0(a5)
 644              	.L39:
 645 08e8 93070000 		li	a5,0
 646 08ec 13850700 		mv	a0,a5
 647 08f0 8320C102 		lw	ra,44(sp)
 648 08f4 03248102 		lw	s0,40(sp)
 649 08f8 13010103 		addi	sp,sp,48
 650 08fc 67800000 		jr	ra
 652              		.align	2
 653              		.globl	writeWord
 655              	writeWord:
 656 0900 130101FD 		addi	sp,sp,-48
 657 0904 23268102 		sw	s0,44(sp)
 658 0908 13040103 		addi	s0,sp,48
 659 090c 232EA4FC 		sw	a0,-36(s0)
 660 0910 232CB4FC 		sw	a1,-40(s0)
 661 0914 232AC4FC 		sw	a2,-44(s0)
 662 0918 2328D4FC 		sw	a3,-48(s0)
 663 091c 832744FD 		lw	a5,-44(s0)
 664 0920 13D7F741 		srai	a4,a5,31
 665 0924 13773700 		andi	a4,a4,3
 666 0928 B307F700 		add	a5,a4,a5
 667 092c 93D72740 		srai	a5,a5,2
 668 0930 2326F4FE 		sw	a5,-20(s0)
 669 0934 8327C4FE 		lw	a5,-20(s0)
 670 0938 93972700 		slli	a5,a5,2
 671 093c 0327C4FD 		lw	a4,-36(s0)
 672 0940 B307F700 		add	a5,a4,a5
 673 0944 032704FD 		lw	a4,-48(s0)
 674 0948 23A0E700 		sw	a4,0(a5)
 675 094c 93070000 		li	a5,0
 676 0950 13850700 		mv	a0,a5
 677 0954 0324C102 		lw	s0,44(sp)
 678 0958 13010103 		addi	sp,sp,48
 679 095c 67800000 		jr	ra
 681              		.ident	"GCC: (GNU) 9.2.0"
 682              		.section	.note.GNU-stack,"",@progbits
